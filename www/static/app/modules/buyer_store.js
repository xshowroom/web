/*! xshowroom - v1.0.0 - 2016-01-15 */angular.module("xShowroom.buyer.store",["xShowroom.i18n","xShowroom.directives","xShowroom.services","mgcrea.ngStrap"]).controller("BuyerStoreCtrl",["$scope","$modal","$filter","Buyer","Store",function(a,b,c,d,e){a.loadMore=function(){a.limit+=6},a.closeStore=function(d,f){confirm(c("translate")("modal__confirm__DELETE_STORE"))&&e.destroy({shopId:d}).success(function(e){return"object"!=typeof e||e.status?void b({title:c("translate")("modal__title__ERROR"),content:e.msg,show:!0}):void(a.stores[f].id==d&&a.stores.splice(f,1))})};var f=function(){a.limit=6,d.getMyStoreList().success(function(d){if("object"!=typeof d||d.status)return void b({title:c("translate")("modal__title__ERROR"),content:d.msg,show:!0});for(var e=0,f=d.data.length;f>e;e++)d.data[e].image=d.data[e].image?JSON.parse(d.data[e].image):"";a.stores=d.data})};f()}]);