/*! xshowroom - v1.0.0 - 2016-01-15 */angular.module("xShowroom.brand.lookbook",["xShowroom.i18n","xShowroom.directives","xShowroom.services","mgcrea.ngStrap"]).controller("BrandLookbookCtrl",["$scope","$modal","$filter","Brand",function(a,b,c,d){a.addPhoto=function(e,f){d.saveLookbookPhoto({season:f,lookbook:e}).success(function(d){return"object"!=typeof d||d.status||!d.data?void b({title:c("translate")("modal__title__ERROR"),content:d.msg,show:!0}):(a.photos[f]||(a.photos[f]=[]),void a.photos[f].push(d.data))})},a.removePhoto=function(e){d.removeLookbookPhoto({id:e.id}).success(function(d){if("object"!=typeof d||d.status)return void b({title:c("translate")("modal__title__ERROR"),content:d.msg,show:!0});var f=a.photos[e.season].indexOf(e);a.photos[e.season].splice(f,1)})},d.getLookbookPhotos({brandId:a.userId}).success(function(e){if("object"!=typeof e||e.status)return void b({title:c("translate")("modal__title__ERROR"),content:e.msg,show:!0});a.seasons=d.getSeasonsForLookbook(),a.photos={};for(var f=0,g=e.data.length;g>f;f++){var h=e.data[f];a.photos[h.season]||(a.photos[h.season]=[]),a.photos[h.season].push(h)}})}]);