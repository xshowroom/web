/*! xshowroom - v1.0.0 - 2016-01-15 */angular.module("xShowroom.product.index",["xShowroom.i18n","xShowroom.directives","ngSanitize","mgcrea.ngStrap"]).controller("ProductIndexCtrl",["$scope","$modal","$filter","Product","Cart",function(a,b,c,d,e){a.setProductCover=function(b){a.productCover=b},a.deleteProduct=function(e,f){a.hasAuth&&d.destroy({id:e}).success(function(a){"object"!=typeof a||a.status?b({title:c("translate")("modal__title__ERROR"),content:a.msg,show:!0}):window.open("/collection/"+f,"_self")})},a.addProductToCart=function(d){e.addProduct({productionId:d}).success(function(d){return"object"!=typeof d||d.status?void b({title:c("translate")("modal__title__ERROR"),content:c("translate")("modal__msg__error__SYSTEM_ERROR"),show:!0}):void(a.isInCart=!0)})},a.removeProductFromCart=function(d){e.removeProduct({productionId:d}).success(function(d){return"object"!=typeof d||d.status?void b({title:c("translate")("modal__title__ERROR"),content:c("translate")("modal__msg__error__SYSTEM_ERROR"),show:!0}):void(a.isInCart=!1)})},a.checkProductIsExisted=function(d){e.checkProduct({productionId:a.productId}).success(function(d){return"object"!=typeof d||d.status?void b({title:c("translate")("modal__title__ERROR"),content:c("translate")("modal__msg__error__SYSTEM_ERROR"),show:!0}):void(a.isInCart=!!d.data)})},a.checkProductIsExisted()}]);